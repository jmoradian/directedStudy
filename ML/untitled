import tensorflow as tf, numpy as np, collections, sys, csv
from tensorflow.contrib import rnn
import RNN

def getPriceData():
	trainingData = []
	labels = []
	with open('../ExchangeQuery/priceData.csv') as csvfile:
		reader = csv.reader(csvfile)
		iter_ = 1
		for row in reader:
			closePrice = row[4]
			trainingData.append(closePrice)

		length = len(trainingData)
		for ind_, price in enumerate(trainingData[61:]):
			if price > trainingData[ind_-60]: labels.append([1,0])
			else: labels.append([0,1])
		return trainingData[1:length-61], labels

# to test with just price data
def main():
	trainingData, labels = getPriceData()
	rnn = RNN.RNN(learning_rate = .01, state_dimension = 1, input_size = 800, output_size = 2, hidden_state_size = 512)
	rnn.runnSess(trainingData, labels)




if __name__ == "__main__":
	main()
